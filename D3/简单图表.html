<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>做一个简单的图表</title>
  </head>
  <body>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script>
      const width = 960 // 画布的宽度
      const height = 500 // 画布的高度
      const svg = d3.select("body").append("svg") // 创建一个svg元素
      svg
        .attr("width", width)
        .attr("height", height)
        .style("border", "1px solid #000")

      const dataset = [250, 210, 170, 130, 90] //数据（表示矩形的宽度）

      const rectHeight = 20

      svg
        .selectAll("rect") // 选择svg内所有的矩形
        .data(dataset) // 绑定数组
        .enter() // 如果数据项多于矩形，则创建新的矩形
        .append("rect") // 添加足够数量的矩形元素
        .attr("x", 20)
        .attr("y", function (d, i) {
          return i * rectHeight
        })
        .attr("width", function (d) {
          return d
        })
        .attr("height", rectHeight - 2)
        .attr("fill", "steelblue")

      const dataset1 = [1.2, 2.3, 0.9, 1.5, 3.3]

      const min = d3.min(dataset1)
      const max = d3.max(dataset1)

      const linearScale = d3.scaleLinear().domain([min, max]).range([0, 300])
      console.log(linearScale(0.9))
      console.log(linearScale(2.3))
      console.log(linearScale(3.3))
    </script>
  </body>
</html>
